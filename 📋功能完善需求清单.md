# 📋 功能完善需求清单

## 核心功能升级需求

### 1. AI 助学功能 🤖

#### 1.1 学习 AI 助教
- **功能**：帮助学生解答学习问题
- **技术方案**：
  - 接入 OpenAI API / 国内大模型（如：通义千问、文心一言、豆包）
  - 实现对话式问答
  - 支持学科知识问答

#### 1.2 心理 AI 助教
- **功能**：提供心理咨询和建议
- **特殊要求**：
  - 联网搜索心理相关问题
  - 仅限心理健康领域
  - 提供专业的心理支持
- **技术方案**：
  - 接入 AI 模型 + 搜索增强（RAG）
  - 使用心理学知识库
  - 设置安全过滤机制（仅心理相关）

---

### 2. 呼吸训练优化 🌬️

#### 当前问题
- 视频太长
- 可能有其他视频插入

#### 改进方案
- **视频时长**：控制在 3-5 分钟
- **视频来源**：
  - 自托管视频（防止推荐算法）
  - 使用嵌入式播放器，禁用相关视频推荐
  - 关闭自动播放下一个
- **实现**：
  - 使用 HTML5 video 标签
  - 禁用 YouTube 相关视频功能
  - 或上传到专用视频托管服务

---

### 3. 情绪追踪 UI 重设计 📔

#### 设计要求
- **外观**：设计成笔记本样式
- **保留功能**：
  - 情绪记录
  - 情绪统计
  - 历史查看
  - 情绪分析

#### UI 元素
- 笔记本封面动画
- 翻页效果
- 手写风格字体
- 日记本纹理背景

---

### 4. 新增功能区域 ➕

#### 4.1 信息提醒区
- **功能**：
  - 上课提醒
  - 作业提醒
  - 预约提醒
  - 系统通知

#### 4.2 设置区
- **功能**：
  - 账号设置
  - 隐私设置
  - 通知设置
  - 主题切换
  - 语言设置

#### 4.3 个人中心
- **功能**：
  - 个人信息
  - 学习统计
  - 学院积分
  - 成就系统
  - 我的课程
  - 我的作业

---

### 5. 直播教室升级 🎓

#### 主导地位
- **布局**：占据主页面中心位置
- **功能**：
  - 直播间形态
  - 实时视频
  - 互动聊天
  - 举手发言

#### 课程管理
- **课程表**：
  - 每周课程安排
  - 今日课程高亮
  - 一键进入教室

- **上课提醒**：
  - 提前 10 分钟提醒
  - 桌面通知
  - 站内消息

---

### 6. 自习室优化 📚

#### 改进要求
- **去除图片**：简化界面
- **摄像头**：
  - 移到侧边栏或设置中
  - 不占据主要位置
  - 可选开关

---

### 7. 分院测试系统 🏰

#### 实现时机
- **触发**：用户注册完成后
- **流程**：注册 → 分院测试 → 分配学院 → 进入系统

#### 测试设计
- **题目数量**：10-15 题
- **题目难度**：中等偏上
- **题目类型**：
  - 性格测试
  - 价值观选择
  - 情景判断
  - 特质评估

#### 技术实现
- **选项打乱**：随机排序
- **结果计算**：
  - 格兰芬多（勇敢、冒险）
  - 斯莱特林（野心、精明）
  - 拉文克劳（智慧、学识）
  - 赫奇帕奇（忠诚、勤劳）

#### 数据库设计
```sql
-- 分院测试题目表
CREATE TABLE sorting_questions (
  id UUID PRIMARY KEY,
  question TEXT NOT NULL,
  options JSONB NOT NULL, -- 选项和对应学院分数
  category VARCHAR(50), -- 题目分类
  order_index INTEGER
);

-- 用户测试记录
CREATE TABLE sorting_results (
  user_id UUID REFERENCES users(id),
  answers JSONB, -- 答题记录
  scores JSONB, -- 各学院得分
  final_house VARCHAR(20), -- 最终学院
  created_at TIMESTAMP
);
```

---

## 实现优先级

### P0 - 立即实现（核心功能）
1. ✅ 分院测试系统
2. ✅ 直播教室主导布局
3. ✅ 信息提醒区
4. ✅ 个人中心基础功能

### P1 - 高优先级（2周内）
1. ⚠️ AI 助教基础功能
2. ⚠️ 课程表和上课提醒
3. ⚠️ 设置区完整功能
4. ⚠️ 情绪追踪 UI 重设计

### P2 - 中优先级（1个月内）
1. ⏳ 心理 AI 联网搜索
2. ⏳ 呼吸训练视频优化
3. ⏳ 自习室优化
4. ⏳ 成就系统

---

## 技术栈选择

### AI 接入方案
**推荐方案**：
1. **OpenAI GPT-4**（国外）
2. **通义千问**（阿里云）
3. **文心一言**（百度）
4. **豆包**（字节跳动）

**搜索增强**：
- Google Search API / Bing Search API
- 或使用专业心理学知识库

### 直播方案
**推荐方案**：
1. **腾讯云直播**
2. **阿里云直播**
3. **声网 Agora**
4. **即构 ZEGO**

---

## 预算估算

### API 费用（月）
- AI 对话：¥500-2000
- 搜索 API：¥200-500
- 直播服务：¥500-1500
- 视频存储：¥100-300

### 总计
- 基础版：¥1500/月
- 标准版：¥3000/月
- 专业版：¥5000+/月

---

## 下一步行动

请告诉我：
1. 是否立即开始实现？
2. 优先级是否需要调整？
3. AI 模型偏好哪个（国内/国外）？
4. 预算范围是多少？

我会根据您的反馈开始逐步实现这些功能。


